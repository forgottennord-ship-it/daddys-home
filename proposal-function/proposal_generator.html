<!-- Change the JavaScript to call your new API -->
<script>
async function generateProposal() {
    const clientName = document.getElementById('clientName').value;
    const businessProblem = document.getElementById('businessProblem').value;
    const industry = document.getElementById('industry').value;
    const output = document.getElementById('proposalOutput');
    
    output.innerHTML = '<em>Generating enterprise proposal...</em>';
    
    try {
        const response = await fetch('https://proposal-generator-t3qkilmiaa-uc.a.run.app', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                client_name: clientName,
                business_problem: businessProblem,
                industry: industry
            })
        });
        
        const proposal = await response.json();
        
        // Format the proposal beautifully
        let formattedProposal = `
ENTERPRISE TRANSFORMATION PROPOSAL
===================================
Proposal ID: ${proposal.proposal_id}
Client: ${proposal.client}
Industry: ${proposal.industry}  
Date: ${proposal.date}

EXECUTIVE SUMMARY
> ${proposal.summary}

DAY ONE TIMELINE
${Object.entries(proposal.timeline).map(([time, task]) => `• ${time}: ${task}`).join('\n')}

TECHNICAL DELIVERABLES
${proposal.deliverables.map(item => `✅ ${item}`).join('\n')}

SUCCESS METRICS  
${proposal.success_metrics.map(metric => `• ${metric}`).join('\n')}

NEXT STEPS
1. Reply "PROCEED" to initiate Day One transformation
2. We deploy solution to your problem
3. Pay only after production URL is delivered

---
"Stop planning, start deploying."
        `;
        
        output.textContent = formattedProposal;
        
    } catch (error) {
        output.innerHTML = `<span style="color: red;">Error: ${error}</span>`;
    }
}
</script>